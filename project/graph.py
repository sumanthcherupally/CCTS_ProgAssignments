import matplotlib.pyplot as plt
import numpy as np

A11 = [0.0096466, 0.00596517, 0.0118317, 0.014649, 0.0203734, 0.0291168, 0.0326163, 0.042897, 0.0552707]
A12 = [0.00514595, 0.0089846, 0.0178327, 0.0211267, 0.0261571, 0.0327049, 0.0290439, 0.0359298, 0.0572614]
A13 = [0.00397385, 0.00910005, 0.0125401, 0.0178429, 0.029104, 0.0345174, 0.0385285, 0.04021, 0.0484899]
A14 = [0.00989415, 0.0125613, 0.0134914, 0.0152241, 0.0218466, 0.0309965, 0.0326174, 0.0425365, 0.0444917]
A15 = [0.0042766, 0.0062783, 0.0119067, 0.0155941, 0.0311306, 0.0338174, 0.024142, 0.0438562, 0.0434478]
numT = [20,40,60,80,100,120,140,160,180]

A21 = [0.0149519, 0.0207614, 0.012984, 0.0192221, 0.0100028, 0.00573226]
A22 = [0.0273885, 0.0209637, 0.016331, 0.0156491, 0.00936464, 0.00595374]
A23 = [0.0160376, 0.017487, 0.0114494, 0.0131604, 0.0112394, 0.00882484]
A24 = [0.0163789, 0.0119038, 0.0146925, 0.0142967, 0.00914706, 0.00828812]
A25 = [0.0199045, 0.0192675, 0.0166917, 0.01114, 0.00968458, 0.00758128]
p = [5,10,20,25,50,100]

A31 = [0.00968354, 0.00941188, 0.00610018, 0.00837186, 0.00681066, 0.0101654, 0.00912258, 0.00945224]
A32 = [0.0145349, 0.0135163, 0.0104124, 0.00929896, 0.00974336, 0.0162722, 0.0100947, 0.0135087]
A33 = [0.00984894, 0.0112389, 0.00821678, 0.0109372, 0.00751366, 0.0134206, 0.0109343, 0.0120442]
A34 = [0.0177843, 0.0110693, 0.00780814, 0.00982752, 0.0061566, 0.0099465, 0.0131085, 0.0168387]
A35 = [0.0092501, 0.00915954, 0.0117209, 0.0125112, 0.0113416, 0.0102967, 0.00760724, 0.00957198]
n = [50,100,150,200,250,300,350,400]

A41 = [0.0170431, 0.00999306, 0.008547, 0.00892524, 0.00785594, 0.00774332, 0.0079139, 0.0109443, 0.00854002]
A42 = [0.0162573, 0.00940508, 0.00867312, 0.0122601, 0.0073586, 0.0101369, 0.0113031, 0.0125657, 0.0209482]
A43 = [0.0084125, 0.00998988, 0.00857382, 0.00992232, 0.00584898, 0.00952582, 0.0103214, 0.00800534, 0.00777912]
A44 = [0.0227693, 0.00946058, 0.00984538, 0.0140948, 0.0101775, 0.0105553, 0.00664622, 0.0114786, 0.00790218]
A45 = [0.00726148, 0.0116449, 0.0135448, 0.0104343, 0.00829574, 0.00896392, 0.0118322, 0.0110226, 0.0200008]
l = [10.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0]

for i in range(9):
    A11[i] = (A11[i]+A12[i]+A13[i]+A14[i]+A15[i])*500
for i in range(6):
    A21[i] = (A21[i]+A22[i]+A23[i]+A24[i]+A25[i])*500
for i in range(8):
    A31[i] = (A31[i]+A32[i]+A33[i]+A34[i]+A35[i])*500
for i in range(9):
    A41[i] = (A41[i]+A42[i]+A43[i]+A44[i]+A45[i])*500

B11 = [1.95, 2, 2.08333, 1.6875, 2.35, 1.9, 2, 2.0375, 2.25]
B12 = [2.4, 1.8, 1.9, 2.175, 2.09, 1.96667, 2.03571, 2.01875, 2.21111]
B13 = [1.25, 1.725, 2.2, 2.0625, 1.9, 1.925, 2.2, 2.2125, 1.86111]
B14 = [1.9, 2.125, 2.16667, 2.25, 1.87, 1.8, 2.05714, 1.99375, 2.13333]
B15 = [2.3, 1.9, 2.18333, 2.175, 2.2, 2.05833, 1.92143, 2.1, 2.16111]

B21 = [1, 1.48, 1.76, 1.42, 1.9, 2]
B22 = [1.24, 1.56, 2.06, 1.62, 2.02, 1.62]
B23 = [1, 1.58, 1.46, 1.64, 1.68, 2.16]
B24 = [1.08, 1.54, 1.5, 1.9, 1.98, 1.68]
B25 = [0.96, 1.38, 1.8, 2.18, 2.16, 1.78]

B31 = [1.96, 1.8, 1.74, 1.6, 2.6, 1.76, 2.02, 2.18]
B32 = [1.98, 1.74, 1.66, 1.74, 2.12, 2.56, 1.98, 1.9]
B33 = [1.82, 1.62, 2.42, 2.16, 1.84, 2.48, 2.12, 1.9]
B34 = [1.94, 1.88, 2, 1.78, 1.7, 2.04, 2.02, 2.12]
B35 = [1.88, 2.18, 2.1, 1.94, 1.6, 2.1, 1.86, 1.9]

B41 = [2.2, 2, 1.74, 1.66, 1.36, 2.04, 1.76, 2.46, 1.94]
B42 = [1.92, 1.78, 1.96, 1.74, 2.1, 2.16, 2.44, 1.92, 2.48]
B43 = [2.22, 2.06, 1.9, 2.28, 2.4, 1.74, 1.98, 1.9, 2.44]
B44 = [1.94, 1.66, 2.1, 2.12, 2.06, 2.08, 1.78, 2.16, 1.92]
B45 = [2.16, 2.26, 1.8, 2.02, 1.92, 2.16, 2.34, 1.64, 2.32]

for i in range(9):
    B11[i] = (B11[i]+B12[i]+B13[i]+B14[i]+B15[i])/5
for i in range(6):
    B21[i] = (B21[i]+B22[i]+B23[i]+B24[i]+B25[i])/5
    p[i] = 100/p[i]
for i in range(8):
    B31[i] = (B31[i]+B32[i]+B33[i]+B34[i]+B35[i])/5
for i in range(9):
    B41[i] = (B41[i]+B42[i]+B43[i]+B44[i]+B45[i])/5

plt.subplot(121)
plt.plot(numT,A11,'go-')
plt.title("Average Commit vs Num of Transactions")
plt.grid()
plt.xlabel("No of transactions")
plt.ylabel("Commit time (ms)")
plt.subplot(122)
plt.plot(numT,B11,'ro-')
plt.title("Average aborts vs Num of Transactions")
plt.grid()
plt.xlabel("No of transactions")
plt.ylabel("Avg no of aborts")
plt.show()

plt.subplot(121)
plt.plot(p,A21,'go-')
plt.title("Average Commit vs Num of mem locations per lock")
plt.grid()
plt.xlabel("No of mem locations per lock")
plt.ylabel("Commit time (ms)")
plt.subplot(122)
plt.plot(p,B21,'ro-')
plt.title("Average aborts vs Num of mem locations per lock")
plt.grid()
plt.xlabel("No of mem locations per lock")
plt.ylabel("Avg no of aborts")
plt.show()

plt.subplot(121)
plt.plot(n,A31,'go-')
plt.title("Average Commit vs Size of shared memory")
plt.grid()
plt.xlabel("Size of shared memory")
plt.ylabel("Commit time (ms)")
plt.subplot(122)
plt.plot(n,B31,'ro-')
plt.title("Average aborts vs Size of shared memory")
plt.grid()
plt.xlabel("Size of shared memory")
plt.ylabel("Avg no of aborts")
plt.show()

plt.subplot(121)
plt.plot(l,A41,'go-')
plt.title("Average Commit vs ƛ ")
plt.grid()
plt.xlabel("ƛ ")
plt.ylabel("Commit time (ms)")
plt.subplot(122)
plt.plot(l,B41,'ro-')
plt.title("Average aborts vs ƛ ")
plt.grid()
plt.xlabel("ƛ")
plt.ylabel("Avg no of aborts")
plt.show()